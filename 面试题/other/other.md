# 其它

## **1.前端上传文件时如果文件很大，上传时会出现各种问题，比如连接超时了，网断了，都会导致上传失败。?**

切片处理图片

工作原理是：我们将大文件切割为小文件，然后将切割的若干小文件上传到服务器端，服务器端接收到被切割的小文件，然后按照一定的顺序将小文件拼接合并成一个大文件。

https://cloud.tencent.com/developer/article/1481294

https://blog.csdn.net/qq_15238979/article/details/88779838

#### 2.性能优化

https://juejin.im/post/5d548b83f265da03ab42471d

#### 代码层(vue)

- ##### v-if和v-show

  v-if是真正条件渲染

  v-show是css里面的display属性切换

  v-if适用于在运行时很少改变条件,不需要频繁切换,v-show使用频繁切换场景

- ##### computed和watch

  computed

  1.是计算值，
  2.应用：就是简化tempalte里面{{}}计算和处理props或$emit的传值
  3.具有缓存性，页面重新渲染值不变化,计算属性会立即返回之前的计算结果，而不必再次执行函数

  watch

  1.是观察的动作，
  2.应用：监听props，$emit或本组件的值执行异步操作
  3.无缓存性，页面重新渲染时值不变化也会执行

- ##### v-for遍历必须为item添加key,且避免同时使用v-if

  **（1）v-for 遍历必须为 item 添加 key**

  在列表数据进行遍历渲染时，需要为每一项 item 设置唯一 key 值，方便 Vue.js 内部机制精准找到该条列表数据。当 state 更新时，新的状态值和旧的状态值对比，较快地定位到 diff 。

  **（2）v-for 遍历避免同时使用 v-if**

  v-for 比 v-if 优先级高，如果每一次都需要遍历整个数组，将会影响速度，尤其是当之需要渲染很小一部分的时候，必要情况下应该替换成 **computed** 属性。

- ##### 长列表性能优化

  Vue 会通过 Object.defineProperty 对数据进行劫持，来实现视图响应数据的变化，然而有些时候我们的组件就是纯粹的数据展示，不会有任何改变，我们就不需要 Vue 来劫持我们的数据，在大量数据展示的情况下，这能够很明显的**减少组件初始化的时间**，那如何禁止 Vue 劫持我们的数据呢？可以通过 **Object.freeze** 方法来冻结一个对象，一旦被冻结的对象就再也不能被修改了。

- ##### 事件的销毁

  Vue 组件销毁时，会自动清理它与其它实例的连接，解绑它的全部指令及事件监听器，但是仅限于**组件本身**的事件。 如果在 js 内使用 addEventListene 等方式是不会自动销毁的，我们需要在组件销毁时**手动移除这些事件的监听，以免造成内存泄露**

- ##### 图片资源懒加载

  在 vue 文件中将 img 标签的 src 属性直接改为 v-lazy ，从而将图片显示方式更改为懒加载显示

- ##### 路由懒加载

  Vue  是单页面应用，可能会有很多的路由引入 ，这样使用 webpcak 打包后的文件很大，当进入首页时，加载的资源过多，页面会出现白屏的情况，不利于用户体验。如果我们能把不同路由对应的组件**分割成不同的代码块**，然后当路由被访问的时候才**加载对应的组件**，这样就更加高效了。这样会大大提高首屏显示的速度，但是可能其他的页面的速度就会降下来。

- ##### 第三方插件的按需引入

- ##### 优化无限列表性能

  如果你的应用存在非常长或者无限滚动的列表，那么需要采用 窗口化 的技术来优化性能，只需要渲染少部分区域的内容，减少重新渲染组件和创建 dom 节点的时间

- ##### 服务端渲染SSR or 预渲染

  服务端渲染是指 Vue 在客户端将标签渲染成的整个 html 片段的工作在服务端完成，服务端形成的 html 片段直接返回给客户端这个过程就叫做服务端渲染。

#### webpack层

- ##### 图片进行压缩

- ##### 减少es6转为es5的冗余代码

- ##### 提取公共代码

- ##### 模版预编译

- ##### 提取组件的css

- ##### 优化SourceMap

- ##### 构建结果输出分析

- ##### vue项目的编译优化

#### 其它

- ##### 开启gzip压缩

- ##### 浏览器缓存

- ##### CDN的使用

- ##### 使用chrome performance 查找性能瓶颈